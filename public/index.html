<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">

    <script src="https://tools.openreferraluk.org/ApiQuery/js/lib/viz-js/viz.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://neofusion.github.io/hierarchy-select/v2/dist/hierarchy-select.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <title>OpenActive Data Visualiser</title>
</head>
<body>
<div class="mainheading">
    <h3>OpenActive Data Visualiser</h3>
</div>

<div class="container-fluid" style="padding-left: 5%; padding-right: 5%">
    <div class="row">
        <div class="col-md-6 col-sm-8">
            <div class="row">
                <label class="ml-1" for="endpoint">Endpoint</label>
                <select id="endpoint" class="form-control"></select>
            </div>
            <div class="row">
                <h5 style="padding-top: 1%">
                    Get services
                </h5>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <div class="row">
                        <label class="ml-1" for="OrganiserName">Organiser name</label>
                    </div>
                    <div class="row">
                        <input id="OrganiserName" class="form-control mr-1">
                    </div>
                </div>
                <div class="col-sm-8">
                    <div class="row">
                        <label class="ml-1" for="Keywords">Keywords</label>
                    </div>
                    <div class="row">
                        <input id="Keywords" class="form-control ml-1 mr-1">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <div class="row">
                        <label class="ml-1" for="Gender">Gender</label>
                    </div>
                    <div class="row">
                        <select id="Gender" class="form-control mr-1">
                          <option value=""></option>
                          <option value="https://openactive.io/NoRestriction">No Restriction</option>
                          <option value="https://openactive.io/MaleOnly">Male Only</option>
                          <option value="https://openactive.io/FemaleOnly">Female Only</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-8">
                    <div class="row">
                        <div class="col">
                            <div class="row">
                                <label class="ml-1" for="activity-dropdown">Activity</label>
                            </div>
                            <div id="activity-dropdown">
                              <div class="dropdown hierarchy-select activity-list-dropdown row">
                                <button type="button" class="btn btn-secondary dropdown-toggle form-control ml-1 mr-1">- Select Activity -</button>
                              </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="RegularScheduleRow" class="row">
                <div class="col-sm-4">
                    <div class="row">
                        <label class="ml-1" for="Day">Day</label>
                    </div>
                    <div class="row">
                        <select id="Day" class="form-control mr-1">
                            <option value=""></option>
                            <option value="https://schema.org/Monday">Monday</option>
                            <option value="https://schema.org/Tuesday">Tuesday</option>
                            <option value="https://schema.org/Wednesday">Wednesday</option>
                            <option value="https://schema.org/Thursday">Thursday</option>
                            <option value="https://schema.org/Friday">Friday</option>
                            <option value="https://schema.org/Saturday">Saturday</option>
                            <option value="https://schema.org/Sunday">Sunday</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="row">
                        <label class="ml-1" for="StartTime">Start time</label>
                    </div>
                    <div class="row">
                        <input id="StartTime" type="time" class="form-control ml-1 mr-1">
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="row">
                        <label class="ml-1" for="EndTime">End time</label>
                    </div>
                    <div class="row">
                        <input id="EndTime" type="time" class="form-control ml-1 mr-1">
                    </div>
                </div>
            </div>
            <div class="row" id="CoverageRow">
                <div class="col-sm-4">
                    <div class="row">
                        <label class="ml-1" for="Coverage">Coverage (postcode)</label>
                    </div>
                    <div class="row">
                        <input id="Coverage" class="form-control mr-1">
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="row">
                        <label class="ml-1" for="Proximity">Proximity (km)</label>
                    </div>
                    <div class="row">
                        <input id="Proximity" type="number" class="form-control ml-1 mr-1">
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="row">
                        <label class="ml-1">Min/Max age</label>
                        <label class="sr-only" for="minAge">Min age</label>
                        <label class="sr-only" for="maxAge">Max age</label>
                    </div>
                    <div class="row">
                        <div class="input-group">
                            <input id="minAge" type="number" class="form-control ml-1">
                            <input id="maxAge" type="number" class="form-control mr-1">
                        </div>
                    </div>
                </div>
            </div>

            <div class="row" style="padding-top: 3%">
                <div class="col-sm-8 pl-0 pr-0">
                    <button id="execute" class="btn btn-success form-control" disabled="disabled">
                        Execute query
                    </button>
                </div>
                <div class="col-sm-4 pr-2 pl-1">
                    <button id="clear" class="btn btn-secondary form-control ml-1">
                        Clear
                    </button>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-sm-4">
            <h5>API calls made:</h5> <div id="loading-time" style="display: none;"><h5>Loading feed pages...</h5><p>Note: the initial query can take up to 30 seconds for larger feeds, but takes less than 1 second on average for subsequent queries.</p><p>You can change your filter and "Execute query" again while the feed pages load to filter the results from the pages loaded so far.</p></div> <h6 id="progress"></h6>
            <div id="api"></div>
        </div>
    </div>
</div>

<div id='tabs' style="padding: 3%">
    <ul class="nav nav-tabs">
        <li class="nav-item"><a id="resultTab" class="nav-link active" href="#resultPanel" data-toggle="tab">
            Results </a></li>
        <li class="nav-item"><a id="graphTab" class="nav-link disabled" href="#graphPanel" data-toggle="tab">
            Visualisation</a></li>
        <li class="nav-item"><a id="validateTab" class="nav-link disabled" href="#validatePanel" data-toggle="tab">
            Validate</a></li>
        <li class="nav-item"><a id="richnessTab" class="nav-link disabled" href="#richnessPanel" data-toggle="tab">
            Richness</a></li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane active" id="resultPanel">
            <div id="results" class="col-sm-12" >

            </div>
        </div>
        <div class="tab-pane" id="graphPanel">
            <div id="graphLoading"></div>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm2-2">
                        <label class="mr-1" for="format">Format</label>
                        <select id="format" class="form-control mr-1 mb-2" style="width:auto">
                          <option value="json">Json</option>
                          <option value="image">GUI</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div id="graph" class="graph">

                </div>
            </div>
        </div>
        <div class="tab-pane" id="validatePanel">
            <div id="validate" class="col-sm-12" style="padding-left: 3%">

            </div>
        </div>
        <div class="tab-pane" id="richnessPanel">
            <div id="richness" class="col-sm-12 col-md-10 col-lg-8 mt-2" style="padding-left: 1%">

            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.4.1.min.js"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/luxon@1.26.0/build/global/luxon.min.js" integrity="sha256-4sbTzmCCW9LGrIh5OsN8V5Pfdad1F1MwhLAOyXKnsE0=" crossorigin="anonymous"></script>
        
<script src="https://cdn.jsdelivr.net/npm/js-base64@3.6.0/base64.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@openactive/skos@1.4.3/dist/skos.min.js"></script>
<script src="https://neofusion.github.io/hierarchy-select/v2/dist/hierarchy-select.min.js"></script>
<script src="apisearch.js"></script>

</body>
</html>
